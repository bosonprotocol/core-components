import React, { useEffect, useRef } from "react";
import styled from "styled-components";
import line1 from "./line1.png";
import line2 from "./line2.png";
import line3 from "./line3.png";
import line4 from "./line4.png";

const WaveContainer = styled.div`
  position: relative;
  width: 100%; /* Adjust width as needed */
  min-height: 200px; /* Adjust height as needed */
  overflow: hidden;
`;

const WaveLine = styled.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`;

export const WaveLoader = () => {
  const waveRef1 = useRef<HTMLImageElement>(null);
  const waveRef2 = useRef<HTMLImageElement>(null);
  const waveRef3 = useRef<HTMLImageElement>(null);
  const waveRef4 = useRef<HTMLImageElement>(null);
  useEffect(() => {
    const waveLines = [
      waveRef1.current,
      waveRef2.current,
      waveRef3.current,
      waveRef4.current
    ];
    const waveSpeeds = [100, 150, 200, 250]; // Array of wave speeds

    let rotationAngle = 0;

    function animateWave3() {
      const time = Date.now();

      for (let i = 0; i < waveLines.length; i++) {
        const waveLine = waveLines[i];
        const waveSpeed = waveSpeeds[i];

        // Apply negative offsetX for right-to-left movement
        const offsetX = -time * waveSpeed * 0.00001;
        const offsetY = Math.sin(offsetX) * 25; // amplitude

        // Rotate the wave line
        const rotation = Math.sin(offsetX + rotationAngle) * 2;
        if (waveLine) {
          waveLine.style.transform = `translateY(${offsetY}px) rotateX(${rotation}deg)`;
        }
      }

      // Update rotation angle for next frame
      rotationAngle += 0.1;

      requestAnimationFrame(animateWave3);
    }

    animateWave3();
  }, [waveRef1.current]);
  return (
    <WaveContainer>
      <WaveLine src={line1} alt="Wave 1" ref={waveRef1} />
      <WaveLine src={line2} alt="Wave 2" ref={waveRef2} />
      <WaveLine src={line3} alt="Wave 3" ref={waveRef3} />
      <WaveLine src={line4} alt="Wave 4" ref={waveRef4} />
    </WaveContainer>
  );
};

const StyledSvg = styled.svg`
  .path-0 {
    animation: pathAnim-0 4s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }
  @keyframes pathAnim-0 {
    0% {
      d: path(
        "M 0,600 C 0,600 0,200 0,200 C 80.85167464114832,181.58851674641147 161.70334928229664,163.17703349282297 250,181 C 338.29665071770336,198.82296650717703 434.0382775119617,252.88038277511959 533,255 C 631.9617224880383,257.1196172248804 734.1435406698564,207.30143540669857 839,186 C 943.8564593301436,164.69856459330143 1051.3875598086124,171.91387559808612 1152,179 C 1252.6124401913876,186.08612440191388 1346.3062200956938,193.04306220095694 1440,200 C 1440,200 1440,600 1440,600 Z"
      );
    }
    25% {
      d: path(
        "M 0,600 C 0,600 0,200 0,200 C 114.63157894736841,209.01435406698565 229.26315789473682,218.0287081339713 329,218 C 428.7368421052632,217.9712918660287 513.578947368421,208.8995215311005 598,220 C 682.421052631579,231.1004784688995 766.4210526315791,262.37320574162675 865,262 C 963.5789473684209,261.62679425837325 1076.7368421052631,229.60765550239236 1175,214 C 1273.2631578947369,198.39234449760764 1356.6315789473683,199.1961722488038 1440,200 C 1440,200 1440,600 1440,600 Z"
      );
    }
    50% {
      d: path(
        "M 0,600 C 0,600 0,200 0,200 C 76.54545454545453,192.7464114832536 153.09090909090907,185.4928229665072 245,204 C 336.90909090909093,222.5071770334928 444.18181818181824,266.7751196172249 559,253 C 673.8181818181818,239.2248803827751 796.1818181818181,167.40669856459328 884,166 C 971.8181818181819,164.59330143540672 1025.090909090909,233.5980861244019 1112,251 C 1198.909090909091,268.4019138755981 1319.4545454545455,234.20095693779905 1440,200 C 1440,200 1440,600 1440,600 Z"
      );
    }
    75% {
      d: path(
        "M 0,600 C 0,600 0,200 0,200 C 84.45933014354068,183.00478468899522 168.91866028708137,166.00956937799043 263,182 C 357.08133971291863,197.99043062200957 460.78468899521533,246.96650717703352 577,239 C 693.2153110047847,231.03349282296648 821.9425837320574,166.1244019138756 915,147 C 1008.0574162679426,127.87559808612441 1065.4449760765551,154.53588516746413 1147,171 C 1228.5550239234449,187.46411483253587 1334.2775119617224,193.73205741626793 1440,200 C 1440,200 1440,600 1440,600 Z"
      );
    }
    100% {
      d: path(
        "M 0,600 C 0,600 0,200 0,200 C 80.85167464114832,181.58851674641147 161.70334928229664,163.17703349282297 250,181 C 338.29665071770336,198.82296650717703 434.0382775119617,252.88038277511959 533,255 C 631.9617224880383,257.1196172248804 734.1435406698564,207.30143540669857 839,186 C 943.8564593301436,164.69856459330143 1051.3875598086124,171.91387559808612 1152,179 C 1252.6124401913876,186.08612440191388 1346.3062200956938,193.04306220095694 1440,200 C 1440,200 1440,600 1440,600 Z"
      );
    }
  }
  .path-1 {
    animation: pathAnim-1 4s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }
  @keyframes pathAnim-1 {
    0% {
      d: path(
        "M 0,600 C 0,600 0,400 0,400 C 113.60765550239236,373.7129186602871 227.21531100478472,347.4258373205742 315,353 C 402.7846889952153,358.5741626794258 464.7464114832535,396.00956937799043 561,393 C 657.2535885167465,389.99043062200957 787.7990430622011,346.53588516746413 881,333 C 974.2009569377989,319.46411483253587 1030.0574162679425,335.8468899521531 1117,352 C 1203.9425837320575,368.1531100478469 1321.9712918660289,384.07655502392345 1440,400 C 1440,400 1440,600 1440,600 Z"
      );
    }
    25% {
      d: path(
        "M 0,600 C 0,600 0,400 0,400 C 88.69856459330143,370.6507177033493 177.39712918660285,341.3014354066986 262,350 C 346.60287081339715,358.6985645933014 427.11004784689,405.44497607655495 523,438 C 618.88995215311,470.55502392344505 730.1626794258373,488.91866028708137 841,464 C 951.8373205741627,439.08133971291863 1062.2392344497607,370.8803827751196 1162,353 C 1261.7607655502393,335.1196172248804 1350.8803827751196,367.5598086124402 1440,400 C 1440,400 1440,600 1440,600 Z"
      );
    }
    50% {
      d: path(
        "M 0,600 C 0,600 0,400 0,400 C 79.76076555023923,356.63157894736844 159.52153110047846,313.2631578947368 250,325 C 340.47846889952154,336.7368421052632 441.67464114832535,403.57894736842104 532,432 C 622.3253588516747,460.42105263157896 701.77990430622,450.4210526315789 811,434 C 920.22009569378,417.5789473684211 1059.2057416267944,394.73684210526324 1169,388 C 1278.7942583732056,381.26315789473676 1359.3971291866028,390.6315789473684 1440,400 C 1440,400 1440,600 1440,600 Z"
      );
    }
    75% {
      d: path(
        "M 0,600 C 0,600 0,400 0,400 C 99.11004784688996,433.58851674641147 198.2200956937799,467.17703349282294 297,448 C 395.7799043062201,428.82296650717706 494.2296650717702,356.8803827751196 596,335 C 697.7703349282298,313.1196172248804 802.8612440191389,341.30143540669854 905,375 C 1007.1387559808611,408.69856459330146 1106.3253588516748,447.9138755980861 1195,453 C 1283.6746411483252,458.0861244019139 1361.8373205741627,429.0430622009569 1440,400 C 1440,400 1440,600 1440,600 Z"
      );
    }
    100% {
      d: path(
        "M 0,600 C 0,600 0,400 0,400 C 113.60765550239236,373.7129186602871 227.21531100478472,347.4258373205742 315,353 C 402.7846889952153,358.5741626794258 464.7464114832535,396.00956937799043 561,393 C 657.2535885167465,389.99043062200957 787.7990430622011,346.53588516746413 881,333 C 974.2009569377989,319.46411483253587 1030.0574162679425,335.8468899521531 1117,352 C 1203.9425837320575,368.1531100478469 1321.9712918660289,384.07655502392345 1440,400 C 1440,400 1440,600 1440,600 Z"
      );
    }
  }
`;

export const WaveLoader2 = () => {
  return (
    <StyledSvg
      width="100%"
      height="100%"
      id="svg"
      viewBox="0 0 1440 590"
      xmlns="http://www.w3.org/2000/svg"
      className="transition duration-300 ease-in-out delay-150"
    >
      <path
        d="M 0,600 C 0,600 0,200 0,200 C 80.85167464114832,181.58851674641147 161.70334928229664,163.17703349282297 250,181 C 338.29665071770336,198.82296650717703 434.0382775119617,252.88038277511959 533,255 C 631.9617224880383,257.1196172248804 734.1435406698564,207.30143540669857 839,186 C 943.8564593301436,164.69856459330143 1051.3875598086124,171.91387559808612 1152,179 C 1252.6124401913876,186.08612440191388 1346.3062200956938,193.04306220095694 1440,200 C 1440,200 1440,600 1440,600 Z"
        stroke="none"
        stroke-width="0"
        fill="#02f3a2"
        fill-opacity="0.53"
        className="transition-all duration-300 ease-in-out delay-150 path-0"
      ></path>
      <path
        d="M 0,600 C 0,600 0,400 0,400 C 113.60765550239236,373.7129186602871 227.21531100478472,347.4258373205742 315,353 C 402.7846889952153,358.5741626794258 464.7464114832535,396.00956937799043 561,393 C 657.2535885167465,389.99043062200957 787.7990430622011,346.53588516746413 881,333 C 974.2009569377989,319.46411483253587 1030.0574162679425,335.8468899521531 1117,352 C 1203.9425837320575,368.1531100478469 1321.9712918660289,384.07655502392345 1440,400 C 1440,400 1440,600 1440,600 Z"
        stroke="none"
        stroke-width="0"
        fill="#02f3a2"
        fill-opacity="1"
        className="transition-all duration-300 ease-in-out delay-150 path-1"
      ></path>
    </StyledSvg>
  );
};
